#!/usr/bin/python3
"""server.py
    Purpose: Creates a tcp server uysing python3
"""

import socket

"""create a socket object"""
serversocket = socket.socket(
    socket.AF_INET,
    socket.SOCK_STREAM,
)

# Automating the process of getting the hostname of the server
# As opposed to manually assigning the IP address directly
host = socket.gethostname()

port = 444

"""binding host and port to a socket object"""
# host wll be replaced with IP, if changed and not running on host
serversocket.bind((host, port)) 

"""Starting the TCP listener"""
serversocket.listen(3)

while True:
    # Starting the connection
    # Information to be accepted by the client
    clientsocket, address = serversocket.accept()

    print ("Received connection from %r " % str(address))
    
    message = "Salaam, welcome to the server!" + "\r\n"

    clientsocket.send(message.encode('ascii'))

    clientsocket.close()