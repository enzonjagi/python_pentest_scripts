#!/usr/bin/python3
"""pythonfor_penTesting/
    Purpose: to grab the banner
    Input: Ip and PORT
    Output: What's recv'd
"""

import socket

def banner(ip, port):
    '''
        First connects to a socket,
        then displays the banner of what's running on
        a specified port of an IP address

        Parameters: ip, port
        Returns: None
    '''

    try:
        s = socket.socket()


        s.connect((ip, int(port)))
        s.settimeout(5)

        print(str(s.recv(1024)).strip(('b')))
    except:
        print("It's taking too long to connect, port might be closed")
    else:
        print("Success!!!")
    finally:
        print("Check for error messages and fix.")



def main():
    '''
        Asks for user input on ip and port,
        then calls the Banner() function

        Parameters: None
        Returns: None
    '''

    ip = input("Kindly input the IP: ")
    port = str(input("Kindly input the port: "))
    banner(ip, port)

main()